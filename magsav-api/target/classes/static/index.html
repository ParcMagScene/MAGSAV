<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAGSAV 1.3 - POC API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        .api-endpoint {
            background: #f8f9fa;
            border-left: 4px solid #0d6efd;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .method-get { border-left-color: #28a745; }
        .method-post { border-left-color: #007bff; }
        .method-put { border-left-color: #ffc107; }
        .method-delete { border-left-color: #dc3545; }
        .method-patch { border-left-color: #6f42c1; }
        
        .status-badge {
            font-size: 0.8em;
            padding: 4px 8px;
            border-radius: 12px;
        }
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 0;
        }
    </style>
</head>
<body>
    <!-- En-t√™te Hero -->
    <div class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 mb-3">
                <i class="fas fa-cogs"></i> MAGSAV 1.3 - POC API
            </h1>
            <p class="lead">
                Proof of Concept de l'API REST Spring Boot pour MAGSAV-1.3<br>
                Architecture moderne avec nouvelles fonctionnalit√©s
            </p>
            <div class="row mt-4">
                <div class="col-md-3">
                    <div class="bg-white bg-opacity-20 p-3 rounded">
                        <i class="fas fa-truck fa-2x mb-2"></i>
                        <h5>V√©hicules</h5>
                        <p class="small">Gestion compl√®te de la flotte</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="bg-white bg-opacity-20 p-3 rounded">
                        <i class="fas fa-calendar fa-2x mb-2"></i>
                        <h5>Planning</h5>
                        <p class="small">Planification des interventions</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="bg-white bg-opacity-20 p-3 rounded">
                        <i class="fas fa-shopping-cart fa-2x mb-2"></i>
                        <h5>Commandes</h5>
                        <p class="small">Gestion des commandes</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="bg-white bg-opacity-20 p-3 rounded">
                        <i class="fas fa-chart-line fa-2x mb-2"></i>
                        <h5>Ventes</h5>
                        <p class="small">Module commercial</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container my-5">
        <!-- Section Status -->
        <div class="row mb-5">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4><i class="fas fa-info-circle"></i> Statut du POC</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h5>API REST Spring Boot</h5>
                                <span class="badge bg-success status-badge">
                                    <i class="fas fa-check"></i> Op√©rationnelle
                                </span>
                                <ul class="mt-2">
                                    <li>‚úì Configuration Spring Boot 3.x</li>
                                    <li>‚úì Base SQLite (POC) / PostgreSQL (prod)</li>
                                    <li>‚úì Entit√©s JPA modernes</li>
                                    <li>‚úì Validation des donn√©es</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5>Fonctionnalit√©s MAGSAV-1.3</h5>
                                <span class="badge bg-warning status-badge">
                                    <i class="fas fa-cog"></i> En d√©veloppement
                                </span>
                                <ul class="mt-2">
                                    <li>üöß Module V√©hicules</li>
                                    <li>üöß Module Planning</li>
                                    <li>üöß Module Commandes</li>
                                    <li>üöß Module Ventes/Affaires</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Documentation API -->
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header bg-dark text-white">
                        <h4><i class="fas fa-code"></i> Documentation API REST</h4>
                    </div>
                    <div class="card-body">
                        <p class="lead">Base URL: <code>http://localhost:8080/api</code></p>
                        
                        <!-- Module V√©hicules -->
                        <h5 class="mt-4 mb-3"><i class="fas fa-truck text-primary"></i> Module V√©hicules</h5>
                        
                        <div class="api-endpoint method-get">
                            <strong>GET</strong> <code>/vehicules</code>
                            <p class="mb-1">R√©cup√®re la liste des v√©hicules avec pagination</p>
                            <small class="text-muted">Param√®tres: page, size, search</small>
                        </div>
                        
                        <div class="api-endpoint method-get">
                            <strong>GET</strong> <code>/vehicules/{id}</code>
                            <p class="mb-1">R√©cup√®re un v√©hicule par son ID</p>
                        </div>
                        
                        <div class="api-endpoint method-post">
                            <strong>POST</strong> <code>/vehicules</code>
                            <p class="mb-1">Cr√©e un nouveau v√©hicule</p>
                        </div>
                        
                        <div class="api-endpoint method-put">
                            <strong>PUT</strong> <code>/vehicules/{id}</code>
                            <p class="mb-1">Met √† jour un v√©hicule existant</p>
                        </div>
                        
                        <div class="api-endpoint method-delete">
                            <strong>DELETE</strong> <code>/vehicules/{id}</code>
                            <p class="mb-1">Supprime un v√©hicule</p>
                        </div>
                        
                        <div class="api-endpoint method-get">
                            <strong>GET</strong> <code>/vehicules/stats</code>
                            <p class="mb-1">R√©cup√®re les statistiques des v√©hicules</p>
                        </div>
                        
                        <div class="api-endpoint method-patch">
                            <strong>PATCH</strong> <code>/vehicules/{id}/statut</code>
                            <p class="mb-1">Change le statut d'un v√©hicule</p>
                        </div>

                        <!-- Exemple JSON -->
                        <h6 class="mt-4">Exemple de v√©hicule (JSON)</h6>
                        <pre class="bg-light p-3 rounded"><code>{
  "immatriculation": "AB-123-CD",
  "typeVehicule": "VL",
  "marque": "Renault",
  "modele": "Kangoo",
  "annee": 2023,
  "kilometrage": 15000,
  "statut": "DISPONIBLE",
  "locationExterne": false,
  "notes": "V√©hicule √©quip√© pour l'audiovisuel"
}</code></pre>

                        <!-- Prochaines √©tapes -->
                        <h5 class="mt-5 mb-3"><i class="fas fa-road text-success"></i> Prochaines √©tapes</h5>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card bg-light">
                                    <div class="card-body">
                                        <h6><i class="fas fa-calendar"></i> Module Planning</h6>
                                        <ul class="small">
                                            <li>Planification des interventions</li>
                                            <li>Assignation des v√©hicules</li>
                                            <li>Calendrier int√©gr√©</li>
                                            <li>Notifications automatiques</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card bg-light">
                                    <div class="card-body">
                                        <h6><i class="fas fa-shopping-cart"></i> Module Commandes</h6>
                                        <ul class="small">
                                            <li>Gestion des commandes clients</li>
                                            <li>Suivi des livraisons</li>
                                            <li>Facturation automatique</li>
                                            <li>Int√©gration comptable</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test interactif -->
        <div class="row mt-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h4><i class="fas fa-play"></i> Test Interactif</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <button class="btn btn-primary" onclick="testAPI('/api/vehicules')">
                                    <i class="fas fa-list"></i> Lister les v√©hicules
                                </button>
                                <button class="btn btn-info ms-2" onclick="testAPI('/api/vehicules/stats')">
                                    <i class="fas fa-chart-bar"></i> Statistiques
                                </button>
                            </div>
                            <div class="col-md-6">
                                <button class="btn btn-success" onclick="createTestVehicule()">
                                    <i class="fas fa-plus"></i> Cr√©er v√©hicule test
                                </button>
                            </div>
                        </div>
                        <div class="mt-3">
                            <h6>R√©sultat:</h6>
                            <pre id="api-result" class="bg-dark text-light p-3 rounded" style="max-height: 300px; overflow-y: auto;">
Cliquez sur un bouton pour tester l'API...
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-3 mt-5">
        <div class="container">
            <p>&copy; 2024 MAGSAV 1.3 - Proof of Concept API</p>
            <p><small>D√©velopp√© avec Spring Boot 3.x + Java 21</small></p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        async function testAPI(endpoint) {
            const resultElement = document.getElementById('api-result');
            resultElement.textContent = 'Chargement...';
            
            try {
                const response = await fetch('http://localhost:8080' + endpoint);
                const data = await response.json();
                resultElement.textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                resultElement.textContent = 'Erreur: ' + error.message + '\n\nAssurez-vous que l\'API est d√©marr√©e sur le port 8080';
            }
        }

        async function createTestVehicule() {
            const resultElement = document.getElementById('api-result');
            resultElement.textContent = 'Cr√©ation du v√©hicule test...';
            
            const testVehicule = {
                immatriculation: 'POC-' + Math.floor(Math.random() * 1000),
                typeVehicule: 'VL',
                marque: 'Test',
                modele: 'POC Model',
                annee: 2024,
                kilometrage: 0,
                statut: 'DISPONIBLE',
                locationExterne: false,
                notes: 'V√©hicule cr√©√© depuis l\'interface POC'
            };
            
            try {
                const response = await fetch('http://localhost:8080/api/vehicules', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testVehicule)
                });
                const data = await response.json();
                resultElement.textContent = 'V√©hicule cr√©√©:\n' + JSON.stringify(data, null, 2);
            } catch (error) {
                resultElement.textContent = 'Erreur lors de la cr√©ation: ' + error.message;
            }
        }
    </script>
</body>
</html>