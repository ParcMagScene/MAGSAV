<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.magsav.gui.hub.DemandesHubController" prefWidth="1100" prefHeight="700">
  
  <top>
    <VBox style="-fx-background-color: linear-gradient(to bottom, #f8f9fa, #e9ecef); -fx-padding: 15;">
      <Label text="ðŸ“‹ Gestion des Demandes MAGSAV" style="-fx-font-size: 22; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
      <Label text="GÃ©rez les demandes de piÃ¨ces et de matÃ©riel" style="-fx-font-size: 14; -fx-text-fill: #6c757d;"/>
    </VBox>
  </top>
  
  <center>
    <TabPane fx:id="demandesTabPane" tabClosingPolicy="UNAVAILABLE" styleClass="dark-tab-pane" style="-fx-padding: 10;">
      
      <!-- Onglet Demandes de PiÃ¨ces -->
      <Tab text="ðŸ”§ Demandes de PiÃ¨ces" closable="false">
        <VBox spacing="15" style="-fx-padding: 20;">
          
          <!-- Statistiques PiÃ¨ces -->
          <HBox spacing="20">
            <VBox spacing="5" style="-fx-background-color: #fff; -fx-padding: 15; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8;">
              <Label text="ðŸ“¦" style="-fx-font-size: 20; -fx-text-fill: #007bff;"/>
              <Label fx:id="lblTotalPartRequests" text="0" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
              <Label text="Total Demandes" style="-fx-font-size: 10; -fx-text-fill: #6c757d;"/>
            </VBox>
            
            <VBox spacing="5" style="-fx-background-color: #fff; -fx-padding: 15; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8;">
              <Label text="â³" style="-fx-font-size: 20; -fx-text-fill: #ffc107;"/>
              <Label fx:id="lblPendingPartRequests" text="0" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
              <Label text="En Attente" style="-fx-font-size: 10; -fx-text-fill: #6c757d;"/>
            </VBox>
          </HBox>
          
          <!-- Barre d'outils PiÃ¨ces -->
          <HBox spacing="10" alignment="CENTER_LEFT">
            <TextField fx:id="partRequestSearchField" promptText="Rechercher une demande de piÃ¨ce..." HBox.hgrow="ALWAYS"/>
            <Button text="âŒ" onAction="#onClearPartRequestSearch" style="-fx-background-color: #dc3545; -fx-text-fill: white;"/>
            <Separator orientation="VERTICAL"/>
            <Button text="âž• Nouvelle Demande" onAction="#onNewPartRequest" style="-fx-background-color: #27ae60; -fx-text-fill: white;"/>
            <Button fx:id="btnEditPartRequest" text="âœï¸ Modifier" onAction="#onEditPartRequest" disable="true" style="-fx-background-color: #4a90e2; -fx-text-fill: white;"/>
            <Button fx:id="btnDeletePartRequest" text="ðŸ—‘ï¸ Supprimer" onAction="#onDeletePartRequest" disable="true" style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
          </HBox>
          
          <!-- Table Demandes de PiÃ¨ces -->
          <TableView fx:id="partRequestsTable" VBox.vgrow="ALWAYS">
            <columns>
              <TableColumn fx:id="colPartRequestId" text="ID" prefWidth="60"/>
              <TableColumn fx:id="colPartRequestDate" text="Date" prefWidth="100"/>
              <TableColumn fx:id="colPartRequestClient" text="Client" prefWidth="150"/>
              <TableColumn fx:id="colPartRequestDescription" text="Description" prefWidth="200"/>
              <TableColumn fx:id="colPartRequestQuantity" text="QuantitÃ©" prefWidth="80"/>
              <TableColumn fx:id="colPartRequestStatus" text="Statut" prefWidth="100"/>
              <TableColumn fx:id="colPartRequestPriority" text="PrioritÃ©" prefWidth="80"/>
              <TableColumn fx:id="colPartRequestAssignee" text="AssignÃ© Ã " prefWidth="120"/>
            </columns>
            <placeholder><Label text="Aucune demande de piÃ¨ce"/></placeholder>
          </TableView>
          
        </VBox>
      </Tab>
      
      <!-- Onglet Demandes de MatÃ©riel -->
      <Tab text="ðŸ’» Demandes de MatÃ©riel" closable="false">
        <VBox spacing="15" style="-fx-padding: 20;">
          
          <!-- Statistiques MatÃ©riel -->
          <HBox spacing="20">
            <VBox spacing="5" style="-fx-background-color: #fff; -fx-padding: 15; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8;">
              <Label text="ðŸ’»" style="-fx-font-size: 20; -fx-text-fill: #17a2b8;"/>
              <Label fx:id="lblTotalEquipmentRequests" text="0" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
              <Label text="Total Demandes" style="-fx-font-size: 10; -fx-text-fill: #6c757d;"/>
            </VBox>
            
            <VBox spacing="5" style="-fx-background-color: #fff; -fx-padding: 15; -fx-border-color: #dee2e6; -fx-border-radius: 8; -fx-background-radius: 8;">
              <Label text="â³" style="-fx-font-size: 20; -fx-text-fill: #ffc107;"/>
              <Label fx:id="lblPendingEquipmentRequests" text="0" style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
              <Label text="En Attente" style="-fx-font-size: 10; -fx-text-fill: #6c757d;"/>
            </VBox>
          </HBox>
          
          <!-- Barre d'outils MatÃ©riel -->
          <HBox spacing="10" alignment="CENTER_LEFT">
            <TextField fx:id="equipmentRequestSearchField" promptText="Rechercher une demande de matÃ©riel..." HBox.hgrow="ALWAYS"/>
            <Button text="âŒ" onAction="#onClearEquipmentRequestSearch" style="-fx-background-color: #dc3545; -fx-text-fill: white;"/>
            <Separator orientation="VERTICAL"/>
            <Button text="âž• Nouvelle Demande" onAction="#onNewEquipmentRequest" style="-fx-background-color: #27ae60; -fx-text-fill: white;"/>
            <Button fx:id="btnEditEquipmentRequest" text="âœï¸ Modifier" onAction="#onEditEquipmentRequest" disable="true" style="-fx-background-color: #4a90e2; -fx-text-fill: white;"/>
            <Button fx:id="btnDeleteEquipmentRequest" text="ðŸ—‘ï¸ Supprimer" onAction="#onDeleteEquipmentRequest" disable="true" style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
          </HBox>
          
          <!-- Table Demandes de MatÃ©riel -->
          <TableView fx:id="equipmentRequestsTable" VBox.vgrow="ALWAYS">
            <columns>
              <TableColumn fx:id="colEquipmentRequestId" text="ID" prefWidth="60"/>
              <TableColumn fx:id="colEquipmentRequestDate" text="Date" prefWidth="100"/>
              <TableColumn fx:id="colEquipmentRequestClient" text="Client" prefWidth="150"/>
              <TableColumn fx:id="colEquipmentRequestType" text="Type MatÃ©riel" prefWidth="150"/>
              <TableColumn fx:id="colEquipmentRequestDescription" text="Description" prefWidth="200"/>
              <TableColumn fx:id="colEquipmentRequestStatus" text="Statut" prefWidth="100"/>
              <TableColumn fx:id="colEquipmentRequestAssignee" text="AssignÃ© Ã " prefWidth="120"/>
            </columns>
            <placeholder><Label text="Aucune demande de matÃ©riel"/></placeholder>
          </TableView>
          
        </VBox>
      </Tab>
      
    </TabPane>
  </center>
  
  <bottom>
    <HBox style="-fx-padding: 10; -fx-background-color: #f8f9fa;" spacing="10" alignment="CENTER_LEFT">
      <Label fx:id="lblStatus" text="PrÃªt" style="-fx-text-fill: #666;"/>
      <Pane HBox.hgrow="ALWAYS"/>
      <Button text="ðŸ”„ Actualiser" onAction="#onRefresh" style="-fx-background-color: #17a2b8; -fx-text-fill: white;"/>
      <Button text="âŒ Fermer" onAction="#onClose"/>
    </HBox>
  </bottom>
  
</BorderPane>